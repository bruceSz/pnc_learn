function Q = getQ(n_seg, n_order, ts)
    Q = [];
    for k = 1:n_seg
        Q_k = [];
        qk_count = 1
        %#####################################################
        % STEP 1.1: calculate Q_k of the k-th segment 
        %
        %
        %
        %
        
        % current time allocated.
        t_interval = ts(k)
        % there are total n_order, and for order i <4 (0-3), the Q_k(i) is zero.
        coef_n = n_order + 1
        for i = 1:coef_n
            % here the 1->p0
            % 
            if i < 4
                tmp_matrix = zeros(coef_n)
                tmp_arr = tmp_matrix(1,:)
                Q_k(qk_count) = tmp_arr
                qk_count  = qk_count +
            end
            
            
        end
        
        
        
        Q = blkdiag(Q, Q_k);
    end
end